# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    project_structure.txt                              :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: ekakhmad <ekakhmad@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2025/05/28 19:18:02 by djuarez           #+#    #+#              #
<<<<<<< HEAD
#    Updated: 2025/08/06 19:02:41 by ekakhmad         ###   ########.fr        #
=======
#    Updated: 2025/08/06 18:51:55 by ekakhmad         ###   ########.fr        #
>>>>>>> 966ecad152ee0b5866ada87829eb11feeca9f616
#                                                                              #
# **************************************************************************** #

minishell/
â”œâ”€â”€ Makefile
â”œâ”€â”€ main.c
â”œâ”€â”€ include/
â”‚   â”œâ”€â”€ minishell.h
â”‚   â”œâ”€â”€ lexer.h
â”‚   â”œâ”€â”€ parser.h          â† encabezado del parser
â”‚   â””â”€â”€ ...otros .h
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lexer/
â”‚   â”‚   â”œâ”€â”€ tokenizer.c
â”‚   â”‚   â””â”€â”€ lexer_utils.c
â”‚   â”œâ”€â”€ parser/
â”‚   â”‚   â”œâ”€â”€ parser.c
â”‚   â”‚   â”œâ”€â”€ parser_utils.c
â”‚   â”‚   â”œâ”€â”€ parse_cmd.c
â”‚   â”‚   â”œâ”€â”€ parse_redir.c
â”‚   â”‚   â”œâ”€â”€ parse_pipe.c
â”‚   â”‚   
â”‚   â”œâ”€â”€ executor/
â”‚   â”œâ”€â”€ builtins/
â”‚   â”œâ”€â”€ signals/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ libft/


quotes 


âœ…  Paso 1. are_quotes_closed(input)
âœ… Ya hecho. Verifica si vale la pena seguir procesando.
âœ… Paso 2. extract_quoted_segment(const char *input, int *len)
ðŸ”§ PrÃ³ximo paso.
Extrae "lo que estÃ¡ entre comillas" y devuelve len.
ðŸ”· Paso 3. reconstruct_words(const char *input)
ðŸ’¡ Reemplaza fill_tokens.
Esta serÃ¡ tu nueva funciÃ³n central del lexer:
    Recorre carÃ¡cter por carÃ¡cter
    Cuando encuentra comillas â†’ llama a extract_quoted_segment
    Cuando encuentra texto normal â†’ lo acumula
    Si estÃ¡n pegados (""ec"ho") â†’ los concatena
    Separa en tokens[] solo cuando hay un espacio real
Internamente usarÃ¡:
    is_quote(c)
    extract_quoted_segment
    remove_surrounding_quotes (nueva versiÃ³n mejorada)
ðŸ”· Paso 4. build_token_list(tokens)
âœ… Ya la tienes. No la cambias.
ðŸ”· Paso 5. is_operator(token)
âœ… Ya la tienes. Se usa despuÃ©s de obtener tokens.
ðŸ”· Paso 6. clean_input_quotes()
ðŸ“¦ Esta serÃ¡ una funciÃ³n "wrapper" que encapsula todo el flujo y puede ser Ãºtil si quieres usarla tambiÃ©n desde otras partes del cÃ³digo.
ðŸ”· Paso 7. debug_quotes_status()


ðŸŸ© Fase 1 â€” Ya implementado y vÃ¡lido
Orden	FunciÃ³n	Estado	Rol
1	is_quote	                âœ… Hecha	Detecta ' y "
2	is_operator	                âœ… Hecha	Detecta operadores (`
3	operator_len	            âœ… Hecha	Calcula longitud de operador (>>, <<, etc.)
4	token_len	                âœ… Hecha	Longitud del siguiente token
5	next_token	                âœ… Hecha	Extrae siguiente token
6	count_tokens    	        âœ… Hecha	Cuenta tokens en el input
7	next_token_and_len	        âœ… Hecha	Combina extracciÃ³n y longitud
8	build_token_list	        âœ… Hecha	Convierte char **tokens a lista t_token *
9	determine_token_type	    âœ… Hecha	Decide el tipo de token (PIPE, WORD, etc.)
10	tokenize_input	            âœ… Hecha	FunciÃ³n principal del lexer
ðŸŸ¨ Fase 2 â€” Preprocesamiento de quotes (nuevo)
Orden	FunciÃ³n	Estado	Rol
11	are_quotes_closed	        âœ… Hecha	Verifica que las comillas estÃ©n bien cerradas
12	extract_quoted_segment	    âœ… A crear	Extrae "contenido" de forma segura
13	remove_surrounding_quotes	ðŸ”œ Mejorar	Elimina comillas exteriores correctamente (', ")
14	reconstruct_words	        ðŸ”œ A crear	Divide y concatena palabras y bloques entre comillas
15	clean_input_quotes	        ðŸ”œ A crear	FunciÃ³n central que coordina todo el manejo de quotes
ðŸ§ª Fase 3 â€” Debug y testing
Orden	FunciÃ³n	Estado	Rol
16	debug_quotes_status	        ðŸ”œ Opcional	Imprime resultados para pruebas internas de quotes
17	print_token_list	        âœ… Hecha	Imprime t_token * (ya existente y Ãºtil para testing)




# MiniShell Architecture & Data Flow


<<<<<<< HEAD
=======

## Alternative #2: Plain ASCII

```
>>>>>>> 966ecad152ee0b5866ada87829eb11feeca9f616
+-----------------+      +-------------+      +------------+      +-------------+
|  User Input     | ---> |   Lexer     | ---> |  Parser    | ---> | Executor    |
| (readline())    |      |             |      |            |      |             |
+-----------------+      +------+------+      +----+-------+      +------+------+
                             |                     |                   |
                             v                     v                   v
                    +----------------+     +--------------+     +--------------+
                    | clean_input    |     | create_cmd   |     | execute_cmd()|
                    | quotes()       |     | node()       |     | (fork & exec)|
                    +----------------+     +--------------+     +--------------+
                             |                     |
                             v                     v
                    +----------------+     +---------------+
                    | reconstruct     |     | parse_args & |
                    | words()         |     | parse_redirs |
                    +----------------+     +---------------+
                             |                     |
                             v                     v
                    +----------------+     +---------------+
                    | build_token    |     | t_cmd linked  |
                    | list()         |     | list          |
                    +----------------+     +---------------+
```
